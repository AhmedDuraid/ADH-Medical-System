@page "/admin/users"

@using ADHUIServer.Models.Users
@using ADHUIServer.Components


<h3>AdminUsers</h3>

<AuthorizeView Roles="Admin">
    <Authorized>
        <UsersList selectedUser="@EditUserInfo" />

        @if (SelectedUser != null)
        {
            <UpdateUserForm UserInfo="@SelectedUser" />
        }
    </Authorized>

    <NotAuthorized>
        <p>You can not access this page </p>
    </NotAuthorized>

</AuthorizeView>

@code {

    private UserModel SelectedUser;

    private void EditUserInfo(UserModel userInfo)
    {
        SelectedUser = userInfo;
    }

}
